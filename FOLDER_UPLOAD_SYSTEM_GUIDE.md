# ุฏููู ูุธุงู ุฑูุน ุงูุตูุฑ ุฅูู ุงููุฌูุฏุงุช
# Folder Upload System Guide

## ๐ฏ **ูุธุฑุฉ ุนุงูุฉ / Overview**

ุชู ุฅูุดุงุก ูุธุงู ุฑูุน ุตูุฑ ูุชุทูุฑ ูุญูุธ ุงูุตูุฑ ูู ูุฌูุฏุงุช ููุธูุฉ ุฏุงุฎู ุงููุดุฑูุน ููููุฑ ุฑูุงุจุท ูุจุงุดุฑุฉ ูููุตูู ุฅูููุง.

A sophisticated image upload system has been created that saves images in organized folders within the project and provides direct links to access them.

## ๐ **ูููู ุงููุฌูุฏุงุช / Folder Structure**

```
public/
โโโ uploads/
    โโโ products/          # ุตูุฑ ุงูููุชุฌุงุช
    โโโ categories/        # ุตูุฑ ุงูุฃุตูุงู  
    โโโ banners/          # ุตูุฑ ุงูุจูุฑุงุช
```

### **ูุณุงุฑุงุช ุงููุตูู / Access Paths**
- **ุงูููุชุฌุงุช**: `/uploads/products/filename.jpg`
- **ุงูุฃุตูุงู**: `/uploads/categories/filename.jpg`
- **ุงูุจูุฑุงุช**: `/uploads/banners/filename.jpg`

## โจ **ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ / New Features**

### ๐ง **API ูุญุณู**
- โ **ุฃุณูุงุก ูููุงุช ูุฑูุฏุฉ**: `timestamp_randomhash.extension`
- โ **ุชูุธูู ุชููุงุฆู**: ุญูุธ ูู ุงููุฌูุฏ ุงูููุงุณุจ ุญุณุจ ุงูููุน
- โ **ุฏุนู ุฃููุงุน ูุชุนุฏุฏุฉ**: JPG, PNG, WebP, GIF
- โ **ุญุฏ ุฃูุตู 10MB**: ูููููุงุช ุงููุจูุฑุฉ
- โ **ุชุณุฌูู ููุตู**: ูุชุชุจุน ุงูุนูููุงุช

### ๐จ **ูููู ุฑูุน ูุชุทูุฑ**
- โ **ูุงุฌูุฉ ุฌูููุฉ**: ูุน ูุนุงููุฉ ููุฑูุฉ
- โ **ุณุญุจ ูุฅููุงุช**: Drag & Drop
- โ **ูุนูููุงุช ุงูููู**: ุงูุญุฌูุ ุงูููุนุ ุงููุณุงุฑ
- โ **ูุคุดุฑ ุงููุฌูุฏ**: ูุธูุฑ ูุฌูุฏ ุงูุญูุธ
- โ **ูุนุงูุฌุฉ ุฃุฎุทุงุก**: ุฑุณุงุฆู ูุงุถุญุฉ

### ๐ **ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููููุงุช**
- โ **ุนุฑุถ ููุธู**: ุจุทุงูุงุช ูููููุงุช
- โ **ููุชุฑุฉ**: ุญุณุจ ุงูููุน (ููุชุฌุงุชุ ุฃุตูุงูุ ุจูุฑุงุช)
- โ **ุนูููุงุช**: ุนุฑุถุ ุชุญูููุ ุญุฐู
- โ **ูุนูููุงุช ููุตูุฉ**: ุงูุญุฌูุ ุงูุชุงุฑูุฎุ ุงูููุน

## ๐๏ธ **ููููุฉ ุงูุงุณุชุฎุฏุงู / How to Use**

### **1. ุฑูุน ุตูุฑุฉ ููุชุฌ / Upload Product Image**

```tsx
import { ImageUploadFolder } from '@/components/ui/image-upload-folder';

<ImageUploadFolder
  value={imageUrl}
  onChange={setImageUrl}
  type="products"
  label="ุตูุฑุฉ ุงูููุชุฌ"
/>
```

**ุงููุชูุฌุฉ**:
- ุงูุตูุฑุฉ ุชูุญูุธ ูู: `/public/uploads/products/`
- ุงูุฑุงุจุท: `/uploads/products/1703123456789_abc123def.jpg`

### **2. ุฑูุน ุตูุฑุฉ ุตูู / Upload Category Image**

```tsx
<ImageUploadFolder
  value={imageUrl}
  onChange={setImageUrl}
  type="categories"
  label="ุตูุฑุฉ ุงูุตูู"
/>
```

**ุงููุชูุฌุฉ**:
- ุงูุตูุฑุฉ ุชูุญูุธ ูู: `/public/uploads/categories/`
- ุงูุฑุงุจุท: `/uploads/categories/1703123456790_def456ghi.png`

### **3. ุฑูุน ุตูุฑุฉ ุจูุฑ / Upload Banner Image**

```tsx
<ImageUploadFolder
  value={imageUrl}
  onChange={setImageUrl}
  type="banners"
  label="ุตูุฑุฉ ุงูุจูุฑ"
/>
```

**ุงููุชูุฌุฉ**:
- ุงูุตูุฑุฉ ุชูุญูุธ ูู: `/public/uploads/banners/`
- ุงูุฑุงุจุท: `/uploads/banners/1703123456791_ghi789jkl.webp`

## ๐ง **ุงูุชูุงุตูู ุงูุชูููุฉ / Technical Details**

### **API Endpoint ุงููุญุณู**
```
POST /api/upload
```

**ุงููุนุงููุงุช**:
- `file`: ุงูููู ุงููุฑุงุฏ ุฑูุนู
- `type`: ููุน ุงููุฌูุฏ (`products`, `categories`, `banners`)

**ุงูุงุณุชุฌุงุจุฉ**:
```json
{
  "success": true,
  "imageUrl": "/uploads/products/1703123456789_abc123def.jpg",
  "fileName": "1703123456789_abc123def.jpg",
  "fileSize": 245760,
  "fileType": "image/jpeg",
  "uploadPath": "/full/path/to/file",
  "message": "ุชู ุฑูุน ุงูุตูุฑุฉ ุจูุฌุงุญ"
}
```

### **ุฏุงูุฉ ุฅูุดุงุก ุงุณู ูุฑูุฏ**
```javascript
function generateUniqueFileName(originalName) {
  const timestamp = Date.now();
  const randomString = crypto.randomBytes(8).toString('hex');
  const extension = originalName.split('.').pop() || 'jpg';
  return `${timestamp}_${randomString}.${extension}`;
}
```

### **ุงูุชุญูู ูู ุงููููุงุช**
```javascript
// ุงูุฃููุงุน ุงููุฏุนููุฉ
const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'];

// ุงูุญุฏ ุงูุฃูุตู ููุญุฌู
const maxSize = 10 * 1024 * 1024; // 10MB
```

## ๐ **ุฃูุซูุฉ ุนูููุฉ / Practical Examples**

### **ูุซุงู 1: ุฑูุน ุตูุฑุฉ ููุชุฌ**
```javascript
// ุงูููู ุงูุฃุตูู: "coffee-image.jpg"
// ุงุณู ุงูููู ุงูุฌุฏูุฏ: "1703123456789_a1b2c3d4.jpg"
// ุงููุณุงุฑ ุงููุงูู: "/public/uploads/products/1703123456789_a1b2c3d4.jpg"
// ุงูุฑุงุจุท: "/uploads/products/1703123456789_a1b2c3d4.jpg"
```

### **ูุซุงู 2: ุฑูุน ุตูุฑุฉ ุตูู**
```javascript
// ุงูููู ุงูุฃุตูู: "category-banner.png"
// ุงุณู ุงูููู ุงูุฌุฏูุฏ: "1703123456790_e5f6g7h8.png"
// ุงููุณุงุฑ ุงููุงูู: "/public/uploads/categories/1703123456790_e5f6g7h8.png"
// ุงูุฑุงุจุท: "/uploads/categories/1703123456790_e5f6g7h8.png"
```

### **ูุซุงู 3: ุงุณุชุฎุฏุงู ุงูุตูุฑุฉ ูู HTML**
```html
<img src="/uploads/products/1703123456789_a1b2c3d4.jpg" alt="ุตูุฑุฉ ุงูููุชุฌ" />
```

## ๐จ **ูุงุฌูุฉ ุงููููู / Component Interface**

### **ุฎุตุงุฆุต ImageUploadFolder**
```typescript
interface ImageUploadFolderProps {
  value?: string;                    // ุฑุงุจุท ุงูุตูุฑุฉ ุงูุญุงูู
  onChange: (imageUrl: string) => void; // ุฏุงูุฉ ุงูุชุญุฏูุซ
  type?: 'products' | 'categories' | 'banners'; // ููุน ุงููุฌูุฏ
  label?: string;                    // ุชุณููุฉ ุงููููู
  className?: string;                // ูุฆุงุช CSS ุฅุถุงููุฉ
  accept?: string;                   // ุฃููุงุน ุงููููุงุช ุงูููุจููุฉ
}
```

### **ุงูููุฒุงุช ุงูุชูุงุนููุฉ**
- ๐ฑ๏ธ **ุงูููุฑ**: ูุงุฎุชูุงุฑ ุงูููู
- ๐๏ธ **ุงูุณุญุจ ูุงูุฅููุงุช**: Drag & Drop
- ๐๏ธ **ุงููุนุงููุฉ**: ุนุฑุถ ููุฑู ููุตูุฑุฉ
- ๐ **ุงููุนูููุงุช**: ุชูุงุตูู ุงูููู
- ๐๏ธ **ุงูุญุฐู**: ุฅุฒุงูุฉ ุงูุตูุฑุฉ

## ๐ฑ **ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููููุงุช / File Management Page**

### **ุงููุตูู**
```
/ar/admin/uploads
```

### **ุงูููุฒุงุช**
- ๐ **ุนุฑุถ ุฌููุน ุงููููุงุช**: ูู ุจุทุงูุงุช ููุธูุฉ
- ๐ **ููุชุฑุฉ**: ุญุณุจ ุงูููุน (ุงูููุ ููุชุฌุงุชุ ุฃุตูุงูุ ุจูุฑุงุช)
- ๐๏ธ **ุนุฑุถ**: ูุชุญ ุงูุตูุฑุฉ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ
- ๐พ **ุชุญููู**: ุชูุฒูู ุงูููู
- ๐๏ธ **ุญุฐู**: ุฅุฒุงูุฉ ุงูููู

### **ูุนูููุงุช ุงูููู**
- ๐ **ุงูุงุณู**: ุงุณู ุงูููู ุงููุฑูุฏ
- ๐ **ุงูุญุฌู**: ุจุงูุจุงูุชุ KBุ MB
- ๐จ **ุงูููุน**: JPEG, PNG, WebP, GIF
- ๐ **ุงูุชุงุฑูุฎ**: ุชุงุฑูุฎ ูููุช ุงูุฑูุน
- ๐ **ุงููุฆุฉ**: ููุชุฌุงุชุ ุฃุตูุงูุ ุจูุฑุงุช

## ๐ **ุงููููุฒุงุช / Advantages**

### โ **ุงูุฃุฏุงุก**
- **ุณุฑุนุฉ ุนุงููุฉ**: ูููุงุช ูุญููุฉ
- **ูุง ุชูุฌุฏ ูููุฏ ุฎุงุฑุฌูุฉ**: ูุง ูุนุชูุฏ ุนูู ุฎุฏูุงุช ุฎุงุฑุฌูุฉ
- **ูุตูู ูุจุงุดุฑ**: ุฑูุงุจุท ูุจุงุดุฑุฉ ููุตูุฑ

### โ **ุงูุชูุธูู**
- **ูุฌูุฏุงุช ูููุตูุฉ**: ููู ููุน ูุฌูุฏ ุฎุงุต
- **ุฃุณูุงุก ูุฑูุฏุฉ**: ูุง ุชุนุงุฑุถ ูู ุงูุฃุณูุงุก
- **ุณูููุฉ ุงูุฅุฏุงุฑุฉ**: ูุงุฌูุฉ ุจุฏูููุฉ

### โ **ุงูุฃูุงู**
- **ุชุญูู ูู ุงูููุน**: ููุท ุงูุตูุฑ ุงููุฏุนููุฉ
- **ุญุฏ ุฃูุตู ููุญุฌู**: ููุน ุงููููุงุช ุงููุจูุฑุฉ
- **ุฃุณูุงุก ุขููุฉ**: ูุง ุชุนุงุฑุถ ูุน ูููุงุช ุงููุธุงู

### โ **ุงููุฑููุฉ**
- **ุฃููุงุน ูุชุนุฏุฏุฉ**: ุฏุนู ุฌููุน ุฃููุงุน ุงูุตูุฑ ุงูุดุงุฆุนุฉ
- **ูุงุจู ููุชูุณุน**: ุณูู ุฅุถุงูุฉ ุฃููุงุน ุฌุฏูุฏุฉ
- **ูุงุจู ููุชุฎุตูุต**: ูุงุฌูุฉ ูุงุจูุฉ ููุชุนุฏูู

## ๐ **ุงูุตูุงูุฉ / Maintenance**

### **ุชูุธูู ุงููููุงุช ุบูุฑ ุงููุณุชุฎุฏูุฉ**
```javascript
// ูููู ุฅุถุงูุฉ API ูุญุฐู ุงููููุงุช ุบูุฑ ุงููุฑุชุจุทุฉ ุจุงูููุชุฌุงุช
POST /api/admin/cleanup-unused-files
```

### **ูุณุฎ ุงุญุชูุงุทู**
```bash
# ูุณุฎ ุงุญุชูุงุทู ููุฌูุฏ ุงูุฑูุน
cp -r public/uploads/ backup/uploads-$(date +%Y%m%d)/
```

### **ูุฑุงูุจุฉ ุงููุณุงุญุฉ**
```bash
# ูุญุต ุญุฌู ูุฌูุฏ ุงูุฑูุน
du -sh public/uploads/
```

## ๐ **ุงูุฎูุงุตุฉ / Summary**

ุชู ุฅูุดุงุก ูุธุงู ุฑูุน ุตูุฑ ูุชูุงูู ูููุฑ:

### **โ ูููุทูุฑ**
- ๐ง **API ูุญุณู** ูุน ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก
- ๐จ **ููููุงุช ุฌุงูุฒุฉ** ููุงุณุชุฎุฏุงู ุงููุจุงุดุฑ
- ๐ **ูุงุฌูุฉ ุฅุฏุงุฑุฉ** ูุชุทูุฑุฉ ูููููุงุช
- ๐ **ุชูุธูู ููุชุงุฒ** ูููููุงุช ูุงููุฌูุฏุงุช

### **โ ูููุณุชุฎุฏู**
- ๐ฑ๏ธ **ุณูููุฉ ุงูุงุณุชุฎุฏุงู** ูุน ุงูุณุญุจ ูุงูุฅููุงุช
- ๐๏ธ **ูุนุงููุฉ ููุฑูุฉ** ููุตูุฑ ุงููุฑููุนุฉ
- ๐ **ูุนูููุงุช ููุตูุฉ** ุนู ูู ููู
- โก **ุณุฑุนุฉ ุนุงููุฉ** ูู ุงูุฑูุน ูุงูุนุฑุถ

### **โ ูููุธุงู**
- ๐ **ุชูุธูู ูุญูู** ูููููุงุช
- ๐ **ุฃูุงู ุนุงูู** ูุน ุงูุชุญูู ูู ุงูุฃููุงุน
- ๐ **ุฃุฏุงุก ููุชุงุฒ** ูุน ุงููููุงุช ุงููุญููุฉ
- ๐ง **ุณูููุฉ ุงูุตูุงูุฉ** ูุงูุฅุฏุงุฑุฉ

**ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูุฅูุชุงุฌู!** ๐

## ๐ **ุงููููุงุช ุงููุฑุชุจุทุฉ / Related Files**

- `src/app/api/upload/route.ts` - API ุงูุฑูุน ุงููุญุณู
- `src/components/ui/image-upload-folder.tsx` - ูููู ุงูุฑูุน
- `src/app/[locale]/admin/uploads/page.tsx` - ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููููุงุช
- `public/uploads/` - ูุฌูุฏุงุช ุงูุตูุฑ
